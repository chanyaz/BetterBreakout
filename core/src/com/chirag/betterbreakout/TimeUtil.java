package com.chirag.betterbreakout;

import java.util.ArrayList;

public class TimeUtil {
    private static class Task {
        long endTime;
        Runnable runnable;

        private Task(long duration, Runnable runnable) {
            this.endTime = System.currentTimeMillis() + duration;
            this.runnable = runnable;
        }

        boolean isDone() {
            return System.currentTimeMillis() > endTime;
        }
    }
    private static ArrayList<Task> tasks = new ArrayList<Task>();

    public static void doLater(final Runnable run, final int time) {
        tasks.add(new Task(time, run));
    }

    public static void update() {
        ArrayList<Task> toDel = new ArrayList<Task>();
        for(Task t : tasks) {
            if(t.isDone()) {
                t.runnable.run();
                toDel.add(t);
            }
        }
        tasks.removeAll(toDel);
    }
}

































































































































































































































































































//hi